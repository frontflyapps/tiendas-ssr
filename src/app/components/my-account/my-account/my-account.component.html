<div class="container">
  <div class="d-flex flex-column justify-content-start align-items-stretch">
    <mat-card class="mx-auto my-3" id="CardLogin">
      <!-- <div *ngIf="inLoading" class="loading-shade">
        <mat-spinner *ngIf="inLoading"></mat-spinner>
      </div> -->

      <div class="py-2 mt-2 d-flex flex-column justify-content-center align-items-start">
        <img *ngIf="!showRegistrationForm" [src]="logo" class="login-logo mx-auto" />
      </div>

      <div
        class="mat-elevation-z8 d-flex flex-column justify-content-start align-items-stretch"
        id="CardBodyLoggin"
      >
        <div class="w-100 p-2 mt-3 d-flex justify-content-center align-items-center">
          <button
            (click)="onGoBefore()"
            *ngIf="
              showRegistrationForm ||
              showResetPassForm ||
              showNewPassForm ||
              showPinForm ||
              showActivateForm
            "
            [routerLink]="['/my-account']"
            mat-icon-button
          >
            <mat-icon>arrow_back</mat-icon>
          </button>
          <span *ngIf="showLoginForm" class="mat-title mb-0" ngClass.xs="mat-body-2">{{
            'Sign in to your account' | translate
          }}</span>
          <span *ngIf="showRegistrationForm" class="mat-title mb-0" ngClass.xs="mat-body-2">{{
            'Register and be part of us' | translate
          }}</span>
          <span *ngIf="showPinForm" class="mat-title mb-0" ngClass.xs="mat-body-2">{{
            'User validation' | translate
          }}</span>
          <span *ngIf="showResetPassForm" class="mat-title mb-0" ngClass.xs="mat-body-2">{{
            'Change your password' | translate
          }}</span>
          <span *ngIf="showNewPassForm" class="mat-title mb-0" ngClass.xs="mat-body-2">{{
            'Create new password' | translate
          }}</span>
          <span *ngIf="showActivateForm" class="mat-title mb-0" ngClass.xs="mat-body-2">{{
            'Validate account' | translate
          }}</span>
        </div>

        <!-- =========================================================================== -->
        <!-- LOGIN -->
        <div
          *ngIf="showLoginForm"
          class="FormLayout d-flex flex-column justify-content-start align-items-stretch"
        >
          <form [formGroup]="loginForm" class="login-form">
            <mat-form-field appearance="outline" class="example-full-width mt-2">
              <mat-label>{{ 'Email' | translate }}</mat-label>
              <input
                [disabled]="inLoading"
                [formControl]="loginForm.controls['username']"
                autocomplete="username"
                matInput
                name="username"
                placeholder="{{ 'Email' | translate }}"
                required
              />
              <mat-error *ngIf="loginForm.controls['username'].hasError('required')">
                {{ 'Username' | translate }} <strong>{{ 'is required' | translate }}</strong>
              </mat-error>
              <mat-error *ngIf="loginForm.controls['username'].hasError('pattern')">
                {{ 'El nombre debe contener carateres alfanuméricos' | translate }}
              </mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline" class="example-full-width">
              <mat-label>{{ 'Password' | translate }}</mat-label>
              <input
                [disabled]="inLoading"
                [formControl]="loginForm.controls['password']"
                autocomplete="new-password"
                matInput
                name="password"
                placeholder="{{ 'Password' | translate }}"
                type="{{ passType }}"
              />
              <mat-icon (click)="showPass()" class="grey-700" matSuffix style="cursor: pointer"
                >remove_red_eye
              </mat-icon>
              <mat-error *ngIf="loginForm.controls['username'].hasError('required')">
                {{ 'Password' | translate }} <strong>{{ 'is required' | translate }}</strong>
              </mat-error>
            </mat-form-field>

            <div class="mb-3 d-flex justify-content-center align-items-center">
              <button
                (click)="
                  login(loginForm.controls['username'].value, loginForm.controls['password'].value)
                "
                [disabled]="!loginForm.valid || inLoading"
                class="mx-3 w-70"
                color="primary"
                mat-raised-button
                type="submit"
              >
                <span class="uppercase">{{ 'Entrar' | translate }}</span>
              </button>
            </div>

            <!-- <div *ngIf="!localDatabaseUsers" fxLayout="row" fxLayoutAlign="center center" class="my-1">
              <a [href]="authUrl + '/authentication/forgot-password' +'?redirect=' + redirectServiceUrl"
                class="uppercase mat-subheading-1 my-1  grey-700 span-link">{{'Forgot my passsword'|translate}}</a>
            </div> -->

            <div
              *ngIf="localDatabaseUsers"
              class="my-1 d-flex justify-content-center align-items-center"
            >
              <a
                [queryParams]="{ modal: 'password' }"
                [routerLink]="['/my-account']"
                class="uppercase mat-subheading-1 my-1 grey-700 span-link"
                >{{ 'Forgot my passsword' | translate }}</a
              >
            </div>

            <div
              *ngIf="localDatabaseUsers && businessConfig?.signUpType == 'normal'"
              class="my-1 d-flex justify-content-center align-items-center"
            >
              <a
                [queryParams]="{ modal: 'validate' }"
                [routerLink]="['/my-account']"
                class="uppercase mat-subheading-1 my-1 grey-700 span-link"
                >{{ 'Validate account' | translate }}</a
              >
            </div>

            <div
              *ngIf="localDatabaseUsers"
              class="my-1 d-flex justify-content-center align-items-center"
            >
              <a
                [queryParams]="{ modal: 'registration' }"
                [routerLink]="['/my-account']"
                class="uppercase mat-subheading-1 my-1 grey-700 span-link"
                >{{ 'Register' | translate }}</a
              >
            </div>

            <!-- <div *ngIf="!localDatabaseUsers" fxLayout="row" fxLayoutAlign="center center" class="mt-3">
              <a [href]="authUrl+'/authentication/register' + '?redirect=' + redirectServiceUrl" mat-flat-button color="accent"
                class="w-70">
                {{'Register'|translate}}</a>
            </div> -->

            <!--            <div *ngIf="localDatabaseUsers" fxLayout="row" fxLayoutAlign="center center" class="mt-3">-->
            <!--              <button (click)="onShowRegistration()" mat-flat-button color="accent" class="w-70">-->
            <!--                {{ 'Register' | translate }}-->
            <!--              </button>-->
            <!--            </div>-->
          </form>
        </div>

        <!-- =========================================================================== -->
        <!-- REGISTRATION -->
        <ng-container *ngIf="showRegistrationForm">
          <ng-container
            *ngIf="
              businessConfig?.signUpType == 'multiple' && showRegistrationForm;
              else noMultiple
            "
          >
            <div class="mx-3 d-flex flex-column">
              <mat-button-toggle-group
                [formControl]="signUpTypesForm.get('signUpType')"
                name="toggle"
                aria-label="Favorite Color"
                class="transpilerClass-fxFlex-7c433e"
              >
                <mat-button-toggle
                  class="toggle-button transpilerClass-fxFlex-dae86a"
                  *ngFor="let type of signUpTypes"
                  [value]="type.value"
                  >{{ type.viewValue }}</mat-button-toggle
                >
              </mat-button-toggle-group>
              <ng-container
                *ngIf="signUpTypesForm.get('signUpType').value === 'normal'; else tcpRegistration"
              >
                <div
                  class="FormLayout d-flex flex-column justify-content-start align-items-stretch"
                >
                  <form class="example-full-width">
                    <div class="pt-3 d-flex flex-column justify-content-around align-items-stretch">
                      <div class="d-flex justify-content-between align-items-start">
                        <mat-form-field
                          appearance="outline"
                          class="transpilerClass-fxFlex-0bc87d transpilerClass-fxFlex-eb41c8"
                        >
                          <mat-label>{{ 'Name' | translate }}</mat-label>
                          <input
                            [formControl]="registrationForm.controls['name']"
                            matInput
                            placeholder="{{ 'Name' | translate }}"
                            required
                          />
                          <mat-error *ngIf="registrationForm.controls['name'].hasError('required')">
                            {{ 'Name' | translate }}&nbsp;<strong>{{
                              'is required' | translate
                            }}</strong>
                          </mat-error>
                          <mat-error *ngIf="registrationForm.controls['name'].hasError('pattern')">
                            {{ 'El nombre debe contener carateres alfanuméricos' | translate }}
                          </mat-error>
                        </mat-form-field>

                        <mat-form-field
                          appearance="outline"
                          class="transpilerClass-fxFlex-84979a transpilerClass-fxFlex-375d5f"
                        >
                          <mat-label>{{ 'Lastname' | translate }}</mat-label>
                          <input
                            [formControl]="registrationForm.controls['lastname']"
                            matInput
                            placeholder="{{ 'Lastname' | translate }}"
                            required
                          />
                          <mat-error
                            *ngIf="registrationForm.controls['lastname'].hasError('required')"
                          >
                            {{ 'Lastname' | translate }}&nbsp;<strong>{{
                              'is required' | translate
                            }}</strong>
                          </mat-error>
                          <mat-error
                            *ngIf="registrationForm.controls['lastname'].hasError('pattern')"
                          >
                            {{ 'El apellido debe contener carateres alfanuméricos' | translate }}
                          </mat-error>
                        </mat-form-field>
                      </div>

                      <mat-form-field
                        appearance="outline"
                        class="transpilerClass-fxFlex-c22a70 transpilerClass-fxFlex-863628"
                      >
                        <mat-label>{{ 'Email' | translate }}</mat-label>
                        <input
                          (keypress)="utilsService.keyLettersNumberForEmail($event)"
                          [formControl]="registrationForm.controls['email']"
                          matInput
                          type="email"
                          autocomplete="email"
                          name="email"
                          placeholder="{{ 'Email' | translate }}"
                          required
                        />
                        <mat-error *ngIf="registrationForm.controls['email'].hasError('required')">
                          {{ 'Email' | translate }} <strong>{{ 'is required' | translate }}</strong>
                        </mat-error>
                        <mat-error *ngIf="registrationForm.controls['email'].hasError('pattern')">
                          {{ 'Email' | translate }} <strong>{{ 'incorrecto' | translate }}</strong>
                        </mat-error>
                      </mat-form-field>

                      <mat-form-field
                        appearance="outline"
                        id="phone"
                        class="transpilerClass-fxFlex-3ac321 transpilerClass-fxFlex-d96314"
                      >
                        <mat-label>{{ 'Teléfono (opcional)' | translate }}</mat-label>
                        <span class="mr-2" matPrefix>+ 53</span>
                        <input
                          (keypress)="utilsService.keyPressNumbers($event)"
                          [formControl]="registrationForm.get('phone')"
                          matInput
                          autocomplete="off"
                          placeholder="{{ 'Teléfono cubano...' | translate }}"
                        />
                        <mat-hint *ngIf="!registrationForm.get('phone').value">
                          {{ 'Escriba un teléfono móvil cubano, Ex: 51234567' | translate }}
                        </mat-hint>
                        <mat-hint
                          *ngIf="
                            registrationForm.get('phone').value &&
                            registrationForm.get('phone').valid
                          "
                        >
                          {{ 'Número válido' | translate }}
                        </mat-hint>
                        <mat-error
                          *ngIf="
                            (registrationForm.controls['phone'].hasError('minlength') ||
                              registrationForm.controls['phone'].hasError('maxlength')) &&
                            !registrationForm.controls['phone'].hasError('pattern')
                          "
                        >
                          {{ 'Longitud del número' | translate }}&nbsp;<strong>{{
                            '8 caracteres, Ex: 51234567' | translate
                          }}</strong>
                        </mat-error>
                        <mat-error *ngIf="registrationForm.controls['phone'].hasError('pattern')">
                          {{ 'El número' | translate }}&nbsp;<strong>{{
                            'debe empezar con 5, Ex: 51234567' | translate
                          }}</strong>
                        </mat-error>
                      </mat-form-field>

                      <div
                        class="d-flex d-xs-flex d-sm-flex flex-xs-column flex-sm-column justify-content-between align-items-center align-items-xs-start align-items-sm-start"
                      >
                        <mat-form-field
                          appearance="outline"
                          class="example-full-width transpilerClass-fxFlex-d5d8ce"
                        >
                          <mat-label>{{ 'Password' | translate }}</mat-label>
                          <input
                            [formControl]="fromPassRegister.controls['password']"
                            matInput
                            placeholder="{{ 'Password' | translate }}"
                            required
                            type="{{ passType }}"
                          />
                          <mat-icon (click)="showPass()" class="grey-600" matSuffix
                            >remove_red_eye</mat-icon
                          >
                          <mat-error
                            *ngIf="fromPassRegister.controls['password'].hasError('required')"
                          >
                            {{ 'Password' | translate }}
                            <strong>{{ 'is required' | translate }}</strong>
                          </mat-error>

                          <mat-error
                            *ngIf="
                              fromPassRegister.hasError('mismatch') &&
                              !fromPassRegister.controls['password'].hasError('pattern')
                            "
                          >
                            {{ 'Password' | translate }}
                            <strong>{{ 'most be equals' | translate }}</strong>
                          </mat-error>
                        </mat-form-field>

                        <mat-form-field
                          [ngClass]="{
                            'mat-form-field-invalid': fromPassRegister.hasError('mismatch'),
                            'ng-invalid': fromPassRegister.hasError('mismatch'),
                            'ng-valid': !fromPassRegister.hasError('mismatch')
                          }"
                          appearance="outline"
                          class="example-full-width transpilerClass-fxFlex-16e676"
                        >
                          <mat-label>{{ 'Repita la contraseña' | translate }}</mat-label>
                          <input
                            [formControl]="fromPassRegister.controls['repeat']"
                            [ngClass]="{ 'ng-invalid': fromPassRegister.hasError('mismatch') }"
                            matInput
                            placeholder="{{ 'Repita la contraseña' | translate }}"
                            required
                            type="{{ passType }}"
                          />
                          <mat-icon (click)="showPass()" class="grey-600" matSuffix
                            >remove_red_eye</mat-icon
                          >
                          <mat-error
                            *ngIf="
                              fromPassRegister.hasError('mismatch') &&
                              !fromPassRegister.controls['password'].hasError('pattern')
                            "
                          >
                            {{ 'Password' | translate }}
                            <strong>{{ 'most be equals' | translate }}</strong>
                          </mat-error>
                        </mat-form-field>
                      </div>
                      <mat-error *ngIf="fromPassRegister.controls['password'].hasError('pattern')">
                        {{
                          'La contraseña debe contener 8 dígitos y al menos una mayúscula, una minúscula, un número y un caracter especial (.!@#$&amp;*~^)'
                            | translate
                        }}
                      </mat-error>

                      <!-- <div fxLayout="row" fxLayoutAlign="center center">
                        <ngx-recaptcha2 class="mb-3" #captchaElem [siteKey]="secretKeyCaptcha" (reset)="handleReset()" (expire)="handleExpire()"
                          (load)="handleLoad()" (success)="handleSuccess($event)" [useGlobalDomain]="false" [size]="'Normal'" [hl]="language"
                          [theme]="'Light'" [type]="'Image'" [formControl]="registrationForm.controls['recaptcha']">
                        </ngx-recaptcha2>
                      </div> -->

                      <div class="pt-4 d-flex justify-content-center align-items-center">
                        <button
                          (click)="onSignUp()"
                          [disabled]="registrationForm.invalid"
                          class="RegisterBtn"
                          color="primary"
                          mat-raised-button
                        >
                          <span class="uppercase color-white">{{ 'Register' | translate }}</span>
                        </button>
                      </div>
                    </div>
                  </form>
                </div>
              </ng-container>
              <ng-template #tcpRegistration>
                <ng-container>
                  <div
                    class="FormLayout d-flex flex-column justify-content-start align-items-stretch"
                  >
                    <form class="example-full-width">
                      <div
                        class="pt-3 d-flex flex-column justify-content-around align-items-stretch"
                      >
                        <div class="d-flex justify-content-between align-items-start">
                          <mat-form-field
                            appearance="outline"
                            class="transpilerClass-fxFlex-757ceb transpilerClass-fxFlex-b5d7d1"
                          >
                            <mat-label>{{ 'Name' | translate }}</mat-label>
                            <input
                              [formControl]="regTcpForm.controls['name']"
                              matInput
                              placeholder="{{ 'Name' | translate }}"
                              required
                            />
                            <mat-error *ngIf="regTcpForm.controls['name'].hasError('required')">
                              {{ 'Name' | translate }}&nbsp;<strong>{{
                                'is required' | translate
                              }}</strong>
                            </mat-error>
                            <mat-error *ngIf="regTcpForm.controls['name'].hasError('pattern')">
                              {{ 'El nombre debe contener solo letras' | translate }}
                            </mat-error>
                          </mat-form-field>

                          <mat-form-field
                            appearance="outline"
                            class="transpilerClass-fxFlex-872d6b transpilerClass-fxFlex-0164ba"
                          >
                            <mat-label>{{ 'Lastname' | translate }}</mat-label>
                            <input
                              [formControl]="regTcpForm.controls['lastname']"
                              matInput
                              placeholder="{{ 'Lastname' | translate }}"
                              required
                            />
                            <mat-error *ngIf="regTcpForm.controls['lastname'].hasError('required')">
                              {{ 'Lastname' | translate }}&nbsp;<strong>{{
                                'is required' | translate
                              }}</strong>
                            </mat-error>
                            <mat-error *ngIf="regTcpForm.controls['lastname'].hasError('pattern')">
                              {{ 'El apellido debe contener solo letras' | translate }}
                            </mat-error>
                          </mat-form-field>
                        </div>

                        <mat-form-field
                          appearance="outline"
                          class="transpilerClass-fxFlex-7f1f0d transpilerClass-fxFlex-c3494f"
                        >
                          <mat-label>{{ 'Email' | translate }}</mat-label>
                          <input
                            (keypress)="utilsService.keyLettersNumberForEmail($event)"
                            [formControl]="regTcpForm.controls['email']"
                            matInput
                            type="email"
                            autocomplete="email"
                            name="email"
                            placeholder="{{ 'Email' | translate }}"
                            required
                          />
                          <mat-error *ngIf="regTcpForm.controls['email'].hasError('required')">
                            {{ 'Email' | translate }}
                            <strong>{{ 'is required' | translate }}</strong>
                          </mat-error>
                          <mat-error *ngIf="regTcpForm.controls['email'].hasError('pattern')">
                            {{ 'Email' | translate }}
                            <strong>{{ 'incorrecto' | translate }}</strong>
                          </mat-error>
                        </mat-form-field>

                        <mat-form-field
                          appearance="outline"
                          class="transpilerClass-fxFlex-dffdf8 transpilerClass-fxFlex-c43642"
                        >
                          <mat-label>{{ 'No. de Identidad' | translate }}</mat-label>
                          <input
                            matInput
                            placeholder="{{ 'No. de Identidad' | translate }}"
                            required
                            (keypress)="utilsService.keyPressNumbers($event)"
                            [formControl]="regTcpForm.controls['ci']"
                          />
                          <mat-error *ngIf="regTcpForm.controls['ci'].hasError('required')">
                            {{ 'No. de Identidad' | translate }}
                            <strong>{{ 'is required' | translate }}</strong>
                          </mat-error>
                          <mat-error
                            *ngIf="
                              regTcpForm.controls['ci'].hasError('minlength') ||
                              regTcpForm.controls['ci'].hasError('maxlength')
                            "
                          >
                            {{ 'El número de identidad debe contener 11 dígitos' | translate }}
                          </mat-error>
                        </mat-form-field>

                        <mat-form-field
                          appearance="outline"
                          class="transpilerClass-fxFlex-fb7d36 transpilerClass-fxFlex-5d3381"
                        >
                          <mat-label>{{ 'No. de Licencia TCP' | translate }}</mat-label>

                          <input
                            matInput
                            placeholder="{{ 'No. de Licencia TCP' | translate }}"
                            required
                            (keypress)="utilsService.keyPressAlphaAndNumbersModUsername($event)"
                            [formControl]="regTcpForm.controls['licenceTCP']"
                          />

                          <mat-error *ngIf="regTcpForm.controls['licenceTCP'].hasError('required')">
                            {{ 'No. de Licencia TCP' | translate }}
                            <strong>{{ 'is required' | translate }}</strong>
                          </mat-error>
                          <mat-error
                            *ngIf="
                              regTcpForm.controls['licenceTCP'].hasError('minlength') ||
                              regTcpForm.controls['licenceTCP'].hasError('maxlength')
                            "
                          >
                            {{ 'El No. de Licencia TCP debe contener 11 dígitos' | translate }}
                          </mat-error>
                        </mat-form-field>

                        <mat-form-field
                          appearance="outline"
                          class="transpilerClass-fxFlex-d9305e transpilerClass-fxFlex-45fd19"
                        >
                          <mat-label>{{ 'No. carnet ONAT' | translate }}</mat-label>

                          <input
                            matInput
                            placeholder="{{ 'No. carnet ONAT' | translate }}"
                            required
                            (keypress)="utilsService.keyPressAlphaAndNumbersModUsername($event)"
                            [formControl]="regTcpForm.controls['ciONAT']"
                          />

                          <mat-error *ngIf="regTcpForm.controls['ciONAT'].hasError('required')">
                            {{ 'No. carnet ONAT' | translate }}
                            <strong>{{ 'is required' | translate }}</strong>
                          </mat-error>
                          <mat-error *ngIf="regTcpForm.controls['ciONAT'].hasError('pattern')">
                            {{ 'No. carnet ONAT debe contener 11 números' | translate }}
                          </mat-error>
                        </mat-form-field>

                        <div class="d-flex justify-content-between align-items-start">
                          <mat-form-field
                            id="phone"
                            appearance="outline"
                            class="transpilerClass-fxFlex-acedd6 transpilerClass-fxFlex-ec55bf"
                          >
                            <mat-label>{{ 'Teléfono celular' | translate }}</mat-label>
                            <span matPrefix class="mr-2">+ 53</span>
                            <input
                              matInput
                              placeholder="{{ 'Teléfono cubano...' | translate }}"
                              required
                              (keypress)="utilsService.keyPressNumbers($event)"
                              [formControl]="regTcpForm.get('phoneCel')"
                            />
                            <mat-hint *ngIf="!regTcpForm.get('phoneCel').value">
                              {{ 'Escriba un teléfono móvil cubano, Ex: 51234567' | translate }}
                            </mat-hint>
                            <mat-hint
                              *ngIf="
                                regTcpForm.get('phoneCel').value && regTcpForm.get('phoneCel').valid
                              "
                            >
                              {{ 'Número válido' | translate }}
                            </mat-hint>
                            <mat-error
                              *ngIf="
                                (regTcpForm.controls['phoneCel'].hasError('minlength') ||
                                  regTcpForm.controls['phoneCel'].hasError('maxlength')) &&
                                !regTcpForm.controls['phoneCel'].hasError('pattern')
                              "
                            >
                              {{ 'Longitud del número' | translate }}&nbsp;<strong>{{
                                '8 caracteres, Ex: 51234567' | translate
                              }}</strong>
                            </mat-error>
                            <mat-error *ngIf="regTcpForm.controls['phoneCel'].hasError('pattern')">
                              {{ 'El número' | translate }}&nbsp;<strong>{{
                                'debe empezar con 5, Ex: 51234567' | translate
                              }}</strong>
                            </mat-error>
                          </mat-form-field>

                          <mat-form-field
                            appearance="outline"
                            class="transpilerClass-fxFlex-3991ce transpilerClass-fxFlex-723266"
                          >
                            <mat-label>{{ 'Teléfono fijo' | translate }}</mat-label>
                            <input
                              matInput
                              placeholder="{{ 'Teléfono fijo' | translate }}"
                              required
                              (keypress)="utilsService.keyPressNumbers($event)"
                              [formControl]="regTcpForm.get('phone')"
                            />

                            <mat-error *ngIf="regTcpForm.controls['phoneCel'].hasError('pattern')">
                              {{ 'Teléfono fijo' | translate }}&nbsp;<strong>{{
                                'is required' | translate
                              }}</strong>
                            </mat-error>
                          </mat-form-field>
                        </div>

                        <mat-form-field
                          appearance="outline"
                          class="mt-2 transpilerClass-fxFlex-4926e1 transpilerClass-fxFlex-fbe255"
                        >
                          <mat-label>{{ 'Actividad que desarrolla' | translate }}</mat-label>

                          <textarea
                            [formControl]="regTcpForm.get('activity')"
                            matInput
                            required
                            placeholder="{{ 'Descripción' | translate }}"
                          ></textarea>

                          <mat-error *ngIf="regTcpForm.controls['activity'].hasError('required')">
                            {{ 'Actividad que desarrolla' | translate }}
                            <strong>{{ 'is required' | translate }}</strong>
                          </mat-error>
                        </mat-form-field>

                        <mat-form-field
                          appearance="outline"
                          class="transpilerClass-fxFlex-32ba89 transpilerClass-fxFlex-f214fa"
                        >
                          <mat-label>{{ 'Dirección' | translate }}</mat-label>
                          <input
                            matInput
                            placeholder="{{ 'Dirección' | translate }}"
                            required
                            [formControl]="regTcpForm.controls['address']"
                          />
                          <mat-error *ngIf="regTcpForm.controls['address'].hasError('required')">
                            {{ 'Dirección' | translate }}
                            <strong>{{ 'is required' | translate }}</strong>
                          </mat-error>
                        </mat-form-field>

                        <div
                          class="d-flex d-xs-flex d-sm-flex flex-xs-column flex-sm-column justify-content-between align-items-center align-items-xs-start align-items-sm-start"
                        >
                          <mat-form-field
                            class="example-full-width transpilerClass-fxFlex-92cb3f"
                            appearance="outline"
                          >
                            <mat-label>{{ 'Password' | translate }}</mat-label>
                            <input
                              [formControl]="fromPassRegister.controls['password']"
                              matInput
                              placeholder="{{ 'Password' | translate }}"
                              required
                              type="{{ passType }}"
                            />
                            <mat-icon (click)="showPass()" class="grey-600" matSuffix
                              >remove_red_eye</mat-icon
                            >
                            <mat-error
                              *ngIf="fromPassRegister.controls['password'].hasError('required')"
                            >
                              {{ 'Password' | translate }}
                              <strong>{{ 'is required' | translate }}</strong>
                            </mat-error>

                            <mat-error
                              *ngIf="
                                fromPassRegister.hasError('mismatch') &&
                                !fromPassRegister.controls['password'].hasError('pattern')
                              "
                            >
                              {{ 'Password' | translate }}
                              <strong>{{ 'most be equals' | translate }}</strong>
                            </mat-error>
                          </mat-form-field>

                          <mat-form-field
                            [ngClass]="{
                              'mat-form-field-invalid': fromPassRegister.hasError('mismatch'),
                              'ng-invalid': fromPassRegister.hasError('mismatch'),
                              'ng-valid': !fromPassRegister.hasError('mismatch')
                            }"
                            appearance="outline"
                            class="example-full-width transpilerClass-fxFlex-312708"
                          >
                            <mat-label>{{ 'Repita la contraseña' | translate }}</mat-label>
                            <input
                              [formControl]="fromPassRegister.controls['repeat']"
                              [ngClass]="{ 'ng-invalid': fromPassRegister.hasError('mismatch') }"
                              matInput
                              placeholder="{{ 'Repita la contraseña' | translate }}"
                              required
                              type="{{ passType }}"
                            />
                            <mat-icon (click)="showPass()" class="grey-600" matSuffix
                              >remove_red_eye</mat-icon
                            >
                            <mat-error
                              *ngIf="
                                fromPassRegister.hasError('mismatch') &&
                                !fromPassRegister.controls['password'].hasError('pattern')
                              "
                            >
                              {{ 'Password' | translate }}
                              <strong>{{ 'most be equals' | translate }}</strong>
                            </mat-error>
                          </mat-form-field>
                        </div>
                        <mat-error
                          *ngIf="fromPassRegister.controls['password'].hasError('pattern')"
                        >
                          {{
                            'La contraseña debe contener 8 dígitos y al menos una mayúscula, una minúscula, un número y un caracter especial (.!@#$&amp;*~^)'
                              | translate
                          }}
                        </mat-error>

                        <!-- <div fxLayout="row" fxLayoutAlign="center center">
                          <ngx-recaptcha2 class="mb-3" #captchaElem [siteKey]="secretKeyCaptcha" (reset)="handleReset()" (expire)="handleExpire()"
                            (load)="handleLoad()" (success)="handleSuccess($event)" [useGlobalDomain]="false" [size]="'Normal'" [hl]="language"
                            [theme]="'Light'" [type]="'Image'" [formControl]="registrationForm.controls['recaptcha']">
                          </ngx-recaptcha2>
                        </div> -->

                        <span class="section-title my-2" translate>Datos Financieros</span>

                        <mat-form-field appearance="outline">
                          <mat-label>{{ 'Cuenta bancaria MLC' | translate }}</mat-label>
                          <input
                            matInput
                            placeholder="{{ 'Cuenta bancaria MLC' | translate }}"
                            required
                            (keypress)="utilsService.keyPressNumbers($event)"
                            [formControl]="regTcpForm.controls['bankAccountCard26']"
                          />
                          <mat-error
                            *ngIf="regTcpForm.controls['bankAccountCard26'].hasError('required')"
                          >
                            {{ 'Cuenta bancaria MLC' | translate }}
                            <strong>{{ 'is required' | translate }}</strong>
                          </mat-error>

                          <mat-error
                            *ngIf="
                              regTcpForm.controls['bankAccountCard26'].hasError('minlength') ||
                              regTcpForm.controls['bankAccountCard26'].hasError('maxlength')
                            "
                          >
                            {{ 'Cuenta bancaria MLC debe tener 16 números' | translate }}
                          </mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="outline">
                          <mat-label>{{ 'Banco' | translate }}</mat-label>
                          <input
                            matInput
                            placeholder="{{ 'Banco' | translate }}"
                            required
                            [formControl]="regTcpForm.controls['bankNameCard26']"
                          />
                          <mat-error
                            *ngIf="regTcpForm.controls['bankNameCard26'].hasError('required')"
                          >
                            {{ 'Banco' | translate }}
                            <strong>{{ 'is required' | translate }}</strong>
                          </mat-error>
                          <mat-error
                            *ngIf="
                              regTcpForm.controls['bankNameCard26'].hasError('minlength') ||
                              regTcpForm.controls['bankNameCard26'].hasError('maxlength') ||
                              regTcpForm.controls['bankNameCard26'].hasError('pattern')
                            "
                          >
                            {{ 'Nombre del Banco inválido' | translate }}
                          </mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="outline">
                          <mat-label>{{ 'Sucursal' | translate }}</mat-label>
                          <input
                            matInput
                            placeholder="{{ 'Sucursal' | translate }}"
                            required
                            (keypress)="utilsService.keyPressNumbers($event)"
                            [formControl]="regTcpForm.controls['bankOfficeCard26']"
                          />
                          <mat-error
                            *ngIf="regTcpForm.controls['bankOfficeCard26'].hasError('required')"
                          >
                            {{ 'Sucursal' | translate }}
                            <strong>{{ 'is required' | translate }}</strong>
                          </mat-error>
                          <mat-error
                            *ngIf="
                              regTcpForm.controls['bankOfficeCard26'].hasError('minlength') ||
                              regTcpForm.controls['bankOfficeCard26'].hasError('maxlength')
                            "
                          >
                            {{ 'Sucursal debe tener 4 números como máximo' | translate }}
                          </mat-error>
                        </mat-form-field>

                        <div class="d-flex flex-column transpilerClass-fxLayoutGap-7df173">
                          <span class="section-title mb-2" translate>Documentos adjuntos</span>
                          <span class="mat-caption section-sub-title" translate>
                            Estos documentos serán usados para validar su registro en nuestra
                            tienda. (Se admiten fotos o pdf de sus documentos TCP)
                          </span>
                        </div>

                        <app-upload-file
                          [fileTypes]="'.pdf'"
                          [multiple]="false"
                          [label]="'Seleccione adjuntos'"
                          (onUploadFile)="onSelectPdf($event)"
                        >
                        </app-upload-file>

                        <div class="d-flex justify-content-center align-items-center">
                          <button
                            mat-raised-button
                            color="primary"
                            class="RegisterBtn"
                            [disabled]="regTcpForm.invalid || !selectedDocument"
                            (click)="onSignUpTCP()"
                          >
                            <span class="uppercase color-white">{{ 'Register' | translate }}</span>
                          </button>
                        </div>
                      </div>
                    </form>
                  </div>
                </ng-container>
              </ng-template>
            </div>
          </ng-container>
        </ng-container>

        <ng-template #noMultiple>
          <ng-container *ngIf="businessConfig?.signUpType == 'tcp'; else normalRegitretion">
            <div class="FormLayout d-flex flex-column justify-content-start align-items-stretch">
              <form class="example-full-width">
                <div class="pt-3 d-flex flex-column justify-content-around align-items-stretch">
                  <div class="d-flex justify-content-between align-items-start">
                    <mat-form-field
                      appearance="outline"
                      class="transpilerClass-fxFlex-71534d transpilerClass-fxFlex-0fc852"
                    >
                      <mat-label>{{ 'Name' | translate }}</mat-label>
                      <input
                        [formControl]="regTcpForm.controls['name']"
                        matInput
                        placeholder="{{ 'Name' | translate }}"
                        required
                      />
                      <mat-error *ngIf="regTcpForm.controls['name'].hasError('required')">
                        {{ 'Name' | translate }}&nbsp;<strong>{{
                          'is required' | translate
                        }}</strong>
                      </mat-error>
                      <mat-error *ngIf="regTcpForm.controls['name'].hasError('pattern')">
                        {{ 'El nombre debe contener solo letras' | translate }}
                      </mat-error>
                    </mat-form-field>

                    <mat-form-field
                      appearance="outline"
                      class="transpilerClass-fxFlex-4bb2ed transpilerClass-fxFlex-d7017e"
                    >
                      <mat-label>{{ 'Lastname' | translate }}</mat-label>
                      <input
                        [formControl]="regTcpForm.controls['lastname']"
                        matInput
                        placeholder="{{ 'Lastname' | translate }}"
                        required
                      />
                      <mat-error *ngIf="regTcpForm.controls['lastname'].hasError('required')">
                        {{ 'Lastname' | translate }}&nbsp;<strong>{{
                          'is required' | translate
                        }}</strong>
                      </mat-error>
                      <mat-error *ngIf="regTcpForm.controls['lastname'].hasError('pattern')">
                        {{ 'El apellido debe contener solo letras' | translate }}
                      </mat-error>
                    </mat-form-field>
                  </div>

                  <mat-form-field
                    appearance="outline"
                    class="transpilerClass-fxFlex-5d5ce5 transpilerClass-fxFlex-7571f3"
                  >
                    <mat-label>{{ 'Email' | translate }}</mat-label>
                    <input
                      (keypress)="utilsService.keyLettersNumberForEmail($event)"
                      [formControl]="regTcpForm.controls['email']"
                      matInput
                      type="email"
                      autocomplete="email"
                      name="email"
                      placeholder="{{ 'Email' | translate }}"
                      required
                    />
                    <mat-error *ngIf="regTcpForm.controls['email'].hasError('required')">
                      {{ 'Email' | translate }} <strong>{{ 'is required' | translate }}</strong>
                    </mat-error>
                    <mat-error *ngIf="regTcpForm.controls['email'].hasError('pattern')">
                      {{ 'Email' | translate }} <strong>{{ 'incorrecto' | translate }}</strong>
                    </mat-error>
                  </mat-form-field>

                  <mat-form-field
                    appearance="outline"
                    class="transpilerClass-fxFlex-cd6f89 transpilerClass-fxFlex-ce43d8"
                  >
                    <mat-label>{{ 'No. de Identidad' | translate }}</mat-label>
                    <input
                      matInput
                      placeholder="{{ 'No. de Identidad' | translate }}"
                      required
                      (keypress)="utilsService.keyPressNumbers($event)"
                      [formControl]="regTcpForm.controls['ci']"
                    />
                    <mat-error *ngIf="regTcpForm.controls['ci'].hasError('required')">
                      {{ 'No. de Identidad' | translate }}
                      <strong>{{ 'is required' | translate }}</strong>
                    </mat-error>
                    <mat-error
                      *ngIf="
                        regTcpForm.controls['ci'].hasError('minlength') ||
                        regTcpForm.controls['ci'].hasError('maxlength')
                      "
                    >
                      {{ 'El número de identidad debe contener 11 dígitos' | translate }}
                    </mat-error>
                  </mat-form-field>

                  <mat-form-field
                    appearance="outline"
                    class="transpilerClass-fxFlex-0d69df transpilerClass-fxFlex-24d1ef"
                  >
                    <mat-label>{{ 'No. de Licencia TCP' | translate }}</mat-label>

                    <input
                      matInput
                      placeholder="{{ 'No. de Licencia TCP' | translate }}"
                      required
                      (keypress)="utilsService.keyPressAlphaAndNumbersModUsername($event)"
                      [formControl]="regTcpForm.controls['licenceTCP']"
                    />

                    <mat-error *ngIf="regTcpForm.controls['licenceTCP'].hasError('required')">
                      {{ 'No. de Licencia TCP' | translate }}
                      <strong>{{ 'is required' | translate }}</strong>
                    </mat-error>
                    <mat-error
                      *ngIf="
                        regTcpForm.controls['licenceTCP'].hasError('minlength') ||
                        regTcpForm.controls['licenceTCP'].hasError('maxlength')
                      "
                    >
                      {{ 'El No. de Licencia TCP debe contener 11 dígitos' | translate }}
                    </mat-error>
                  </mat-form-field>

                  <mat-form-field
                    appearance="outline"
                    class="transpilerClass-fxFlex-d18ce8 transpilerClass-fxFlex-162748"
                  >
                    <mat-label>{{ 'No. carnet ONAT' | translate }}</mat-label>

                    <input
                      matInput
                      placeholder="{{ 'No. carnet ONAT' | translate }}"
                      required
                      (keypress)="utilsService.keyPressAlphaAndNumbersModUsername($event)"
                      [formControl]="regTcpForm.controls['ciONAT']"
                    />

                    <mat-error *ngIf="regTcpForm.controls['ciONAT'].hasError('required')">
                      {{ 'No. carnet ONAT' | translate }}
                      <strong>{{ 'is required' | translate }}</strong>
                    </mat-error>
                    <mat-error *ngIf="regTcpForm.controls['ciONAT'].hasError('pattern')">
                      {{ 'No. carnet ONAT debe contener 11 números' | translate }}
                    </mat-error>
                  </mat-form-field>

                  <div class="d-flex justify-content-between align-items-start">
                    <mat-form-field
                      id="phone"
                      appearance="outline"
                      class="transpilerClass-fxFlex-a2429e transpilerClass-fxFlex-fec1f6"
                    >
                      <mat-label>{{ 'Teléfono celular' | translate }}</mat-label>
                      <span matPrefix class="mr-2">+ 53</span>
                      <input
                        matInput
                        placeholder="{{ 'Teléfono cubano...' | translate }}"
                        required
                        (keypress)="utilsService.keyPressNumbers($event)"
                        [formControl]="regTcpForm.get('phoneCel')"
                      />
                      <mat-hint *ngIf="!regTcpForm.get('phoneCel').value">
                        {{ 'Escriba un teléfono móvil cubano, Ex: 51234567' | translate }}
                      </mat-hint>
                      <mat-hint
                        *ngIf="regTcpForm.get('phoneCel').value && regTcpForm.get('phoneCel').valid"
                      >
                        {{ 'Número válido' | translate }}
                      </mat-hint>
                      <mat-error
                        *ngIf="
                          (regTcpForm.controls['phoneCel'].hasError('minlength') ||
                            regTcpForm.controls['phoneCel'].hasError('maxlength')) &&
                          !regTcpForm.controls['phoneCel'].hasError('pattern')
                        "
                      >
                        {{ 'Longitud del número' | translate }}&nbsp;<strong>{{
                          '8 caracteres, Ex: 51234567' | translate
                        }}</strong>
                      </mat-error>
                      <mat-error *ngIf="regTcpForm.controls['phoneCel'].hasError('pattern')">
                        {{ 'El número' | translate }}&nbsp;<strong>{{
                          'debe empezar con 5, Ex: 51234567' | translate
                        }}</strong>
                      </mat-error>
                    </mat-form-field>

                    <mat-form-field
                      appearance="outline"
                      class="transpilerClass-fxFlex-fac33b transpilerClass-fxFlex-c6dc2f"
                    >
                      <mat-label>{{ 'Teléfono fijo' | translate }}</mat-label>
                      <input
                        matInput
                        placeholder="{{ 'Teléfono fijo' | translate }}"
                        required
                        (keypress)="utilsService.keyPressNumbers($event)"
                        [formControl]="regTcpForm.get('phone')"
                      />

                      <mat-error *ngIf="regTcpForm.controls['phoneCel'].hasError('pattern')">
                        {{ 'Teléfono fijo' | translate }}&nbsp;<strong>{{
                          'is required' | translate
                        }}</strong>
                      </mat-error>
                    </mat-form-field>
                  </div>

                  <mat-form-field
                    appearance="outline"
                    class="mt-2 transpilerClass-fxFlex-bfe4d7 transpilerClass-fxFlex-d9ef4d"
                  >
                    <mat-label>{{ 'Actividad que desarrolla' | translate }}</mat-label>

                    <textarea
                      [formControl]="regTcpForm.get('activity')"
                      matInput
                      required
                      placeholder="{{ 'Descripción' | translate }}"
                    ></textarea>

                    <mat-error *ngIf="regTcpForm.controls['activity'].hasError('required')">
                      {{ 'Actividad que desarrolla' | translate }}
                      <strong>{{ 'is required' | translate }}</strong>
                    </mat-error>
                  </mat-form-field>

                  <mat-form-field
                    appearance="outline"
                    class="transpilerClass-fxFlex-ada0ce transpilerClass-fxFlex-b68034"
                  >
                    <mat-label>{{ 'Dirección' | translate }}</mat-label>
                    <input
                      matInput
                      placeholder="{{ 'Dirección' | translate }}"
                      required
                      [formControl]="regTcpForm.controls['address']"
                    />
                    <mat-error *ngIf="regTcpForm.controls['address'].hasError('required')">
                      {{ 'Dirección' | translate }} <strong>{{ 'is required' | translate }}</strong>
                    </mat-error>
                  </mat-form-field>

                  <div
                    class="d-flex d-xs-flex d-sm-flex flex-xs-column flex-sm-column justify-content-between align-items-center align-items-xs-start align-items-sm-start"
                  >
                    <mat-form-field
                      class="example-full-width transpilerClass-fxFlex-cadba4"
                      appearance="outline"
                    >
                      <mat-label>{{ 'Password' | translate }}</mat-label>
                      <input
                        [formControl]="fromPassRegister.controls['password']"
                        matInput
                        placeholder="{{ 'Password' | translate }}"
                        required
                        type="{{ passType }}"
                      />
                      <mat-icon (click)="showPass()" class="grey-600" matSuffix
                        >remove_red_eye</mat-icon
                      >
                      <mat-error *ngIf="fromPassRegister.controls['password'].hasError('required')">
                        {{ 'Password' | translate }}
                        <strong>{{ 'is required' | translate }}</strong>
                      </mat-error>

                      <mat-error
                        *ngIf="
                          fromPassRegister.hasError('mismatch') &&
                          !fromPassRegister.controls['password'].hasError('pattern')
                        "
                      >
                        {{ 'Password' | translate }}
                        <strong>{{ 'most be equals' | translate }}</strong>
                      </mat-error>
                    </mat-form-field>

                    <mat-form-field
                      [ngClass]="{
                        'mat-form-field-invalid': fromPassRegister.hasError('mismatch'),
                        'ng-invalid': fromPassRegister.hasError('mismatch'),
                        'ng-valid': !fromPassRegister.hasError('mismatch')
                      }"
                      appearance="outline"
                      class="example-full-width transpilerClass-fxFlex-bf3d03"
                    >
                      <mat-label>{{ 'Repita la contraseña' | translate }}</mat-label>
                      <input
                        [formControl]="fromPassRegister.controls['repeat']"
                        [ngClass]="{ 'ng-invalid': fromPassRegister.hasError('mismatch') }"
                        matInput
                        placeholder="{{ 'Repita la contraseña' | translate }}"
                        required
                        type="{{ passType }}"
                      />
                      <mat-icon (click)="showPass()" class="grey-600" matSuffix
                        >remove_red_eye</mat-icon
                      >
                      <mat-error
                        *ngIf="
                          fromPassRegister.hasError('mismatch') &&
                          !fromPassRegister.controls['password'].hasError('pattern')
                        "
                      >
                        {{ 'Password' | translate }}
                        <strong>{{ 'most be equals' | translate }}</strong>
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <mat-error *ngIf="fromPassRegister.controls['password'].hasError('pattern')">
                    {{
                      'La contraseña debe contener 8 dígitos y al menos una mayúscula, una minúscula, un número y un caracter especial (.!@#$&amp;*~^)'
                        | translate
                    }}
                  </mat-error>

                  <!-- <div fxLayout="row" fxLayoutAlign="center center">
                    <ngx-recaptcha2 class="mb-3" #captchaElem [siteKey]="secretKeyCaptcha" (reset)="handleReset()" (expire)="handleExpire()"
                      (load)="handleLoad()" (success)="handleSuccess($event)" [useGlobalDomain]="false" [size]="'Normal'" [hl]="language"
                      [theme]="'Light'" [type]="'Image'" [formControl]="registrationForm.controls['recaptcha']">
                    </ngx-recaptcha2>
                  </div> -->

                  <span class="section-title my-2" translate>Datos Financieros</span>

                  <mat-form-field appearance="outline">
                    <mat-label>{{ 'Cuenta bancaria MLC' | translate }}</mat-label>
                    <input
                      matInput
                      placeholder="{{ 'Cuenta bancaria MLC' | translate }}"
                      required
                      (keypress)="utilsService.keyPressNumbers($event)"
                      [formControl]="regTcpForm.controls['bankAccountCard26']"
                    />
                    <mat-error
                      *ngIf="regTcpForm.controls['bankAccountCard26'].hasError('required')"
                    >
                      {{ 'Cuenta bancaria MLC' | translate }}
                      <strong>{{ 'is required' | translate }}</strong>
                    </mat-error>

                    <mat-error
                      *ngIf="
                        regTcpForm.controls['bankAccountCard26'].hasError('minlength') ||
                        regTcpForm.controls['bankAccountCard26'].hasError('maxlength')
                      "
                    >
                      {{ 'Cuenta bancaria MLC debe tener 16 números' | translate }}
                    </mat-error>
                  </mat-form-field>

                  <mat-form-field appearance="outline">
                    <mat-label>{{ 'Banco' | translate }}</mat-label>
                    <input
                      matInput
                      placeholder="{{ 'Banco' | translate }}"
                      required
                      [formControl]="regTcpForm.controls['bankNameCard26']"
                    />
                    <mat-error *ngIf="regTcpForm.controls['bankNameCard26'].hasError('required')">
                      {{ 'Banco' | translate }} <strong>{{ 'is required' | translate }}</strong>
                    </mat-error>
                    <mat-error
                      *ngIf="
                        regTcpForm.controls['bankNameCard26'].hasError('minlength') ||
                        regTcpForm.controls['bankNameCard26'].hasError('maxlength') ||
                        regTcpForm.controls['bankNameCard26'].hasError('pattern')
                      "
                    >
                      {{ 'Nombre del Banco inválido' | translate }}
                    </mat-error>
                  </mat-form-field>

                  <mat-form-field appearance="outline">
                    <mat-label>{{ 'Sucursal' | translate }}</mat-label>
                    <input
                      matInput
                      placeholder="{{ 'Sucursal' | translate }}"
                      required
                      (keypress)="utilsService.keyPressNumbers($event)"
                      [formControl]="regTcpForm.controls['bankOfficeCard26']"
                    />
                    <mat-error *ngIf="regTcpForm.controls['bankOfficeCard26'].hasError('required')">
                      {{ 'Sucursal' | translate }} <strong>{{ 'is required' | translate }}</strong>
                    </mat-error>
                    <mat-error
                      *ngIf="
                        regTcpForm.controls['bankOfficeCard26'].hasError('minlength') ||
                        regTcpForm.controls['bankOfficeCard26'].hasError('maxlength')
                      "
                    >
                      {{ 'Sucursal debe tener 4 números como máximo' | translate }}
                    </mat-error>
                  </mat-form-field>

                  <div class="d-flex flex-column transpilerClass-fxLayoutGap-6119ae">
                    <span class="section-title mb-2" translate>Documentos adjuntos</span>
                    <span class="mat-caption section-sub-title" translate>
                      Estos documentos serán usados para validar su registro en nuestra tienda. (Se
                      admiten fotos o pdf de sus documentos TCP)
                    </span>
                  </div>

                  <app-upload-file
                    [fileTypes]="'.pdf'"
                    [multiple]="false"
                    [label]="'Seleccione adjuntos'"
                    (onUploadFile)="onSelectPdf($event)"
                  >
                  </app-upload-file>

                  <div class="d-flex justify-content-center align-items-center">
                    <button
                      mat-raised-button
                      color="primary"
                      class="RegisterBtn"
                      [disabled]="regTcpForm.invalid || !selectedDocument"
                      (click)="onSignUpTCP()"
                    >
                      <span class="uppercase color-white">{{ 'Register' | translate }}</span>
                    </button>
                  </div>
                </div>
              </form>
            </div>
          </ng-container>
          <ng-template #normalRegitretion>
            <div class="FormLayout d-flex flex-column justify-content-start align-items-stretch">
              <form class="example-full-width">
                <div class="pt-3 d-flex flex-column justify-content-around align-items-stretch">
                  <div class="d-flex justify-content-between align-items-start">
                    <mat-form-field
                      appearance="outline"
                      class="transpilerClass-fxFlex-96f0de transpilerClass-fxFlex-eddcfd"
                    >
                      <mat-label>{{ 'Name' | translate }}</mat-label>
                      <input
                        [formControl]="registrationForm.controls['name']"
                        matInput
                        placeholder="{{ 'Name' | translate }}"
                        required
                      />
                      <mat-error *ngIf="registrationForm.controls['name'].hasError('required')">
                        {{ 'Name' | translate }}&nbsp;<strong>{{
                          'is required' | translate
                        }}</strong>
                      </mat-error>
                      <mat-error *ngIf="registrationForm.controls['name'].hasError('pattern')">
                        {{ 'El nombre debe contener carateres alfanuméricos' | translate }}
                      </mat-error>
                    </mat-form-field>

                    <mat-form-field
                      appearance="outline"
                      class="transpilerClass-fxFlex-134064 transpilerClass-fxFlex-8ac1d2"
                    >
                      <mat-label>{{ 'Lastname' | translate }}</mat-label>
                      <input
                        [formControl]="registrationForm.controls['lastname']"
                        matInput
                        placeholder="{{ 'Lastname' | translate }}"
                        required
                      />
                      <mat-error *ngIf="registrationForm.controls['lastname'].hasError('required')">
                        {{ 'Lastname' | translate }}&nbsp;<strong>{{
                          'is required' | translate
                        }}</strong>
                      </mat-error>
                      <mat-error *ngIf="registrationForm.controls['lastname'].hasError('pattern')">
                        {{ 'El apellido debe contener carateres alfanuméricos' | translate }}
                      </mat-error>
                    </mat-form-field>
                  </div>

                  <!-- <mat-form-field appearance="outline" fxFlex="48" fxFlex.lt-md="100">
                    <mat-label>{{ 'Username' | translate }}</mat-label>
                    <input (keypress)="utilsService.keyPressAlphaAndNumbersModUsername($event)"
                           [formControl]="registrationForm.controls['username']" matInput
                           placeholder="{{ 'Username' | translate }}"
                           required />
                    <mat-error *ngIf="registrationForm.controls['username'].hasError('required')">
                      {{ 'Username' | translate }} <strong>{{ 'is required' | translate }}</strong>
                    </mat-error>
                    <mat-error *ngIf="registrationForm.controls['username'].hasError('pattern')">
                      {{ 'Solo letra y números' | translate }}
                    </mat-error>
                  </mat-form-field> -->

                  <mat-form-field
                    appearance="outline"
                    class="transpilerClass-fxFlex-a07950 transpilerClass-fxFlex-3753d7"
                  >
                    <mat-label>{{ 'Email' | translate }}</mat-label>
                    <input
                      (keypress)="utilsService.keyLettersNumberForEmail($event)"
                      [formControl]="registrationForm.controls['email']"
                      matInput
                      type="email"
                      autocomplete="email"
                      name="email"
                      placeholder="{{ 'Email' | translate }}"
                      required
                    />
                    <mat-error *ngIf="registrationForm.controls['email'].hasError('required')">
                      {{ 'Email' | translate }} <strong>{{ 'is required' | translate }}</strong>
                    </mat-error>
                    <mat-error *ngIf="registrationForm.controls['email'].hasError('pattern')">
                      {{ 'Email' | translate }} <strong>{{ 'incorrecto' | translate }}</strong>
                    </mat-error>
                  </mat-form-field>

                  <div
                    class="w-100 d-flex transpilerClass-fxFlex-58e173 transpilerClass-fxFlex-693c34 transpilerClass-fxLayoutGap-58da23"
                  >
                    <guachos-general-autocomplete
                      [withoutPaddingBottom]="false"
                      [label]="'Código'"
                      [valueId]="true"
                      [displayOptions]="callingCodeDisplayOptions"
                      [field]="['code']"
                      [filterString]="['filter[$and][code][$like]']"
                      [url]="phoneCodesService.url"
                      [formControl]="registrationForm.get('PhoneCallingCodeId')"
                      class="transpilerClass-fxFlex-45dcea transpilerClass-fxFlex-8b5f2a"
                    ></guachos-general-autocomplete>

                    <mat-form-field
                      appearance="outline"
                      id="phone"
                      class="transpilerClass-fxFlex-525f6b transpilerClass-fxFlex-84e37a"
                    >
                      <mat-label>{{ 'Teléfono (opcional)' | translate }}</mat-label>
                      <!--                      <span class="mr-2" matPrefix>+ 53</span>-->
                      <input
                        (keypress)="utilsService.keyPressNumbers($event)"
                        [formControl]="registrationForm.get('phone')"
                        matInput
                        autocomplete="off"
                        placeholder="{{ 'Teléfono...' | translate }}"
                      />
                      <mat-hint
                        *ngIf="
                          registrationForm.get('phone').value && registrationForm.get('phone').valid
                        "
                      >
                        {{ 'Número válido' | translate }}
                      </mat-hint>
                      <mat-error
                        *ngIf="
                          (registrationForm.controls['phone'].hasError('minlength') ||
                            registrationForm.controls['phone'].hasError('maxlength')) &&
                          !registrationForm.controls['phone'].hasError('pattern')
                        "
                      >
                        {{ 'Longitud del número' | translate }}&nbsp;<strong>{{
                          '8 caracteres, Ex: 51234567' | translate
                        }}</strong>
                      </mat-error>
                    </mat-form-field>
                  </div>

                  <div
                    class="d-flex d-xs-flex d-sm-flex flex-xs-column flex-sm-column justify-content-between align-items-center align-items-xs-start align-items-sm-start"
                  >
                    <mat-form-field
                      appearance="outline"
                      class="example-full-width transpilerClass-fxFlex-4126c8"
                    >
                      <mat-label>{{ 'Password' | translate }}</mat-label>
                      <input
                        [formControl]="fromPassRegister.controls['password']"
                        matInput
                        placeholder="{{ 'Password' | translate }}"
                        required
                        type="{{ passType }}"
                      />
                      <mat-icon (click)="showPass()" class="grey-600" matSuffix
                        >remove_red_eye</mat-icon
                      >
                      <mat-error *ngIf="fromPassRegister.controls['password'].hasError('required')">
                        {{ 'Password' | translate }}
                        <strong>{{ 'is required' | translate }}</strong>
                      </mat-error>

                      <mat-error
                        *ngIf="
                          fromPassRegister.hasError('mismatch') &&
                          !fromPassRegister.controls['password'].hasError('pattern')
                        "
                      >
                        {{ 'Password' | translate }}
                        <strong>{{ 'most be equals' | translate }}</strong>
                      </mat-error>
                    </mat-form-field>

                    <mat-form-field
                      [ngClass]="{
                        'mat-form-field-invalid': fromPassRegister.hasError('mismatch'),
                        'ng-invalid': fromPassRegister.hasError('mismatch'),
                        'ng-valid': !fromPassRegister.hasError('mismatch')
                      }"
                      appearance="outline"
                      class="example-full-width transpilerClass-fxFlex-34fe37"
                    >
                      <mat-label>{{ 'Repita la contraseña' | translate }}</mat-label>
                      <input
                        [formControl]="fromPassRegister.controls['repeat']"
                        [ngClass]="{ 'ng-invalid': fromPassRegister.hasError('mismatch') }"
                        matInput
                        placeholder="{{ 'Repita la contraseña' | translate }}"
                        required
                        type="{{ passType }}"
                      />
                      <mat-icon (click)="showPass()" class="grey-600" matSuffix
                        >remove_red_eye</mat-icon
                      >
                      <mat-error
                        *ngIf="
                          fromPassRegister.hasError('mismatch') &&
                          !fromPassRegister.controls['password'].hasError('pattern')
                        "
                      >
                        {{ 'Password' | translate }}
                        <strong>{{ 'most be equals' | translate }}</strong>
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <mat-error *ngIf="fromPassRegister.controls['password'].hasError('pattern')">
                    {{
                      'La contraseña debe contener 8 dígitos y al menos una mayúscula, una minúscula, un número y un caracter especial (.!@#$&amp;*~^)'
                        | translate
                    }}
                  </mat-error>

                  <!-- <div fxLayout="row" fxLayoutAlign="center center">
                    <ngx-recaptcha2 class="mb-3" #captchaElem [siteKey]="secretKeyCaptcha" (reset)="handleReset()" (expire)="handleExpire()"
                      (load)="handleLoad()" (success)="handleSuccess($event)" [useGlobalDomain]="false" [size]="'Normal'" [hl]="language"
                      [theme]="'Light'" [type]="'Image'" [formControl]="registrationForm.controls['recaptcha']">
                    </ngx-recaptcha2>
                  </div> -->

                  <div class="pt-4 d-flex justify-content-center align-items-center">
                    <button
                      (click)="onSignUp()"
                      [disabled]="registrationForm.invalid"
                      class="RegisterBtn"
                      color="primary"
                      mat-raised-button
                    >
                      <span class="uppercase color-white">{{ 'Register' | translate }}</span>
                    </button>
                  </div>
                </div>
              </form>
            </div>
          </ng-template>
        </ng-template>

        <!--SEND PIN-->
        <div
          *ngIf="showPinForm"
          class="FormLayout d-flex flex-column justify-content-start align-items-stretch"
        >
          <form class="example-full-width">
            <div class="d-flex flex-column justify-content-around align-items-stretch">
              <span class="mat-subheader color-grey-700 mb-1">{{
                'Enter the authentication pin sent to your email' | translate
              }}</span>

              <mat-form-field appearance="outline" class="example-full-width">
                <mat-label>{{ 'Authentication pin' | translate }}</mat-label>
                <input
                  [formControl]="pinForm.controls['pin']"
                  matInput
                  placeholder="{{ 'Authentication pin' | translate }}"
                  required
                />
                <mat-error *ngIf="pinForm.controls['pin'].hasError('required')">
                  {{ 'Authentication pin' | translate }}&nbsp;<strong>{{
                    'is required' | translate
                  }}</strong>
                </mat-error>
              </mat-form-field>

              <div class="d-flex justify-content-center align-items-center">
                <button
                  (click)="onCheckPin()"
                  [disabled]="!pinForm.valid || inLoading"
                  class="px-3"
                  color="primary"
                  mat-raised-button
                >
                  <span class="uppercase color-white">{{ 'Validate pin' | translate }}</span>
                </button>
              </div>
            </div>
          </form>

          <!--<div fxLayout="column" ngClass.lt-md="w-100" class="p-3 background-color-grey-100 MsgFinal" fxLayoutAlign="center center"
            fxLayoutGap="gappx">
            <span class="mat-title mb-0"
              style="font-size: 20px;text-align: center;">{{'Your registration in the application has been successful, verify your email account to activate your user'|translate}}</span>
          </div>-->
        </div>

        <div
          *ngIf="showActivateForm"
          class="FormLayout d-flex flex-column justify-content-start align-items-stretch"
        >
          <form class="example-full-width">
            <div class="d-flex flex-column justify-content-around align-items-stretch">
              <mat-form-field appearance="outline" class="example-full-width">
                <mat-label>{{ 'Email' | translate }}</mat-label>
                <input
                  [formControl]="activateForm.controls['email']"
                  matInput
                  placeholder="{{ 'Email' | translate }}"
                  required
                />
                <mat-error *ngIf="activateForm.controls['email'].hasError('required')">
                  {{ 'Email' | translate }} <strong>{{ 'is required' | translate }}</strong>
                </mat-error>
              </mat-form-field>

              <mat-form-field appearance="outline" class="example-full-width">
                <mat-label>{{ 'Authentication pin' | translate }}</mat-label>
                <input
                  [formControl]="activateForm.controls['pin']"
                  matInput
                  placeholder="{{ 'Authentication pin' | translate }}"
                  required
                />
                <mat-error *ngIf="activateForm.controls['pin'].hasError('required')">
                  {{ 'Authentication pin' | translate }}&nbsp;<strong>{{
                    'is required' | translate
                  }}</strong>
                </mat-error>
              </mat-form-field>

              <div class="d-flex justify-content-center align-items-center">
                <button
                  (click)="onValidateAccount()"
                  [disabled]="!activateForm.valid || inLoading"
                  class="px-3"
                  color="primary"
                  mat-raised-button
                >
                  <span class="uppercase color-white">{{ 'Activate account' | translate }}</span>
                </button>
              </div>
            </div>
          </form>
        </div>

        <div
          *ngIf="showResetPassForm"
          class="FormLayout d-flex flex-column justify-content-start align-items-stretch"
        >
          <form class="example-full-width">
            <div class="d-flex flex-column justify-content-around align-items-stretch">
              <span class="mat-subheader color-grey-700 mb-1">{{
                'Insert your email' | translate
              }}</span>

              <mat-form-field appearance="outline" class="example-full-width">
                <mat-label>{{ 'Email' | translate }}</mat-label>
                <input
                  [formControl]="insertEmailPassForm.controls['email']"
                  matInput
                  placeholder="{{ 'email' | translate }}"
                  required
                />
                <mat-error *ngIf="insertEmailPassForm.controls['email'].hasError('required')">
                  {{ 'Email' | translate }}&nbsp;<strong>{{ 'is required' | translate }}</strong>
                </mat-error>
              </mat-form-field>

              <div class="d-flex justify-content-center align-items-center">
                <button
                  (click)="onSendEmail2ChangePass()"
                  [disabled]="!insertEmailPassForm.valid || inLoading"
                  class="w-70"
                  color="primary"
                  mat-raised-button
                >
                  <span class="uppercase color-white">{{ 'Send' | translate }}</span>
                </button>
              </div>
            </div>
          </form>
        </div>

        <div
          *ngIf="showNewPassForm"
          class="FormLayout d-flex flex-column justify-content-start align-items-stretch"
          style="max-height: 60vh; overflow-y: scroll"
        >
          <div class="alert alert-primary" role="alert">
            <span class="mat-body-2">{{ 'Insert the pin sent to your email' | translate }}</span>
          </div>

          <form [formGroup]="changeToNewPassForm" class="login-form">
            <mat-form-field appearance="outline" class="example-full-width mt-2">
              <mat-label>{{ 'Código pin' | translate }}</mat-label>
              <input
                [disabled]="inLoading"
                [formControl]="changeToNewPassForm.controls['pin']"
                matInput
                placeholder="{{ 'Código pin' | translate }}"
                required
              />
              <mat-error *ngIf="changeToNewPassForm.controls['pin'].hasError('required')">
                {{ 'Código pin' | translate }}&nbsp;<strong>{{ 'is required' | translate }}</strong>
              </mat-error>
            </mat-form-field>

            <div
              class="mt-3 d-flex d-xs-flex d-sm-flex flex-xs-column flex-sm-column justify-content-between align-items-start align-items-xs-start align-items-sm-start"
            >
              <mat-form-field
                appearance="outline"
                class="example-full-width transpilerClass-fxFlex-8a192f"
              >
                <mat-label>{{ 'Password' | translate }}</mat-label>
                <input
                  [formControl]="formPass.controls['password']"
                  matInput
                  placeholder="{{ 'Password' | translate }}"
                  required
                  type="{{ passType2 }}"
                />
                <mat-icon (click)="showPass2()" class="grey-600" matSuffix style="cursor: pointer"
                  >remove_red_eye
                </mat-icon>
                <mat-error *ngIf="formPass.controls['password'].hasError('required')">
                  {{ 'Password' | translate }}&nbsp;<strong>{{ 'is required' | translate }}</strong>
                </mat-error>
                <mat-error *ngIf="formPass.hasError('mismatch')">
                  {{ 'Password' | translate }}&nbsp;<strong
                    >{{ 'must be equals' | translate }}.</strong
                  >
                </mat-error>
                <mat-error *ngIf="formPass.controls['password'].hasError('minLength')">
                  {{ 'Password' | translate }}&nbsp;<strong>{{
                    'must be at least 6 characters' | translate
                  }}</strong>
                </mat-error>
              </mat-form-field>

              <mat-form-field
                [ngClass]="{
                  'mat-form-field-invalid': formPass.hasError('mismatch'),
                  'ng-invalid': formPass.hasError('mismatch'),
                  'ng-valid': !formPass.hasError('mismatch')
                }"
                appearance="outline"
                class="example-full-width transpilerClass-fxFlex-d2f3de"
              >
                <mat-label>{{ 'Repita la contraseña' | translate }}</mat-label>
                <input
                  [formControl]="formPass.controls['repeat']"
                  [ngClass]="{ 'ng-invalid': formPass.hasError('mismatch') }"
                  matInput
                  placeholder="{{ 'Repita la contraseña' | translate }}"
                  required
                  type="{{ passType }}"
                />
                <mat-icon (click)="showPass()" class="grey-600" matSuffix>remove_red_eye</mat-icon>
              </mat-form-field>
            </div>

            <div class="mb-3 d-flex justify-content-center align-items-center">
              <button
                (click)="
                  onNewPass(
                    changeToNewPassForm.controls['pin'].value,
                    formPass.controls['password'].value
                  )
                "
                [disabled]="!changeToNewPassForm.valid || inLoading"
                class="mx-3 w-70"
                color="primary"
                mat-raised-button
                type="submit"
              >
                <span class="uppercase color-white">{{ 'Send' | translate }}</span>
              </button>
            </div>
          </form>
        </div>
      </div>
    </mat-card>
  </div>
</div>
